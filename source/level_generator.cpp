#include "level_generator.h"
#include "level.h"

static slice_s first_slice =
	(slice_s)
	{
		{ 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0},  
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 1, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}
		}	
	};

static slice_s test_slice[] = 
{
	(slice_s)
	{
		{ 
		  {1, 0, 0, 0, 0, 0, 0, 0, 0},  
		  {1, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {1, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {1, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {1, 1, 0, 0, 0, 0, 0, 0, 0}, 
		  {1, 0, 0, 0, 1, 0, 0, 0, 0}, 
		  {1, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {1, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {1, 1, 1, 1, 1, 1, 1, 1, 1}
		}	
	},
	(slice_s)
	{
		{ 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0},  
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 2 << 4, 0, 0, 2 << 4, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 2 << 4, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}
		}	
	},
	(slice_s)
	{
		{ 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0},  
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 3 << 4, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 3 << 4, 3, (3 << 4) | 3, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}, 
		  {0, 0, 0, 0, 0, 0, 0, 0, 0}
		}	
	},
};


LevelGeneratorStatic::LevelGeneratorStatic()
{
	for(int i = 0; i < LEVEL_NUMLAYERS; i++)
	{
		n[i] = 0;
	}
}

slice_s LevelGeneratorStatic::getSlice(int layer)
{
	n[layer]++;
	if(n[layer] == 1) return first_slice;
	return test_slice[layer];
}
